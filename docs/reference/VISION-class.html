<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Initializes a new VISION object. — Vision • VISION</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Initializes a new VISION object. — Vision" />

<meta property="og:description" content="Initializes a new VISION object." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">VISION</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.99.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/VISION-vignette.html">Introduction to VISION</a>
    </li>
    <li>
      <a href="../articles/micropooling.html">Micropooling and VISION</a>
    </li>
    <li>
      <a href="../articles/trajectories.html">Trajectory Inference and VISION</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Initializes a new VISION object.</h1>
    
    <div class="hidden name"><code>VISION-class.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Initializes a new VISION object.</p>
    
    </div>

    <pre class="usage"><span class='fu'>Vision</span>(<span class='no'>data</span>, <span class='no'>...</span>)

<span class='co'># S4 method for matrixORSparse</span>
<span class='fu'>Vision</span>(<span class='no'>data</span>, <span class='kw'>signatures</span> <span class='kw'>=</span> <span class='fu'>list</span>(),
  <span class='kw'>housekeeping</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>unnormalizedData</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>meta</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>nomodel</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>projection_genes</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"fano"</span>),
  <span class='kw'>min_signature_genes</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>weights</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>threshold</span> <span class='kw'>=</span> <span class='fl'>0.05</span>,
  <span class='kw'>perm_wPCA</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>projection_methods</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"tSNE30"</span>),
  <span class='kw'>sig_norm_method</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"znorm_columns"</span>, <span class='st'>"none"</span>, <span class='st'>"znorm_rows"</span>,
  <span class='st'>"znorm_rows_then_columns"</span>, <span class='st'>"rank_norm_columns"</span>),
  <span class='kw'>sig_score_method</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"naive"</span>, <span class='st'>"weighted_avg"</span>), <span class='kw'>pool</span> <span class='kw'>=</span> <span class='st'>"auto"</span>,
  <span class='kw'>cellsPerPartition</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>cluster_variable</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>latentSpace</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>latentTrajectory</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>pools</span> <span class='kw'>=</span> <span class='fu'>list</span>())

<span class='co'># S4 method for data.frame</span>
<span class='fu'>Vision</span>(<span class='no'>data</span>, <span class='no'>...</span>)

<span class='co'># S4 method for ExpressionSet</span>
<span class='fu'>Vision</span>(<span class='no'>data</span>, <span class='no'>...</span>)

<span class='co'># S4 method for SummarizedExperiment</span>
<span class='fu'>Vision</span>(<span class='no'>data</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>expression data - can be one of these:</p><ul>
<li><p>numeric matrix</p></li>
<li><p>ExpressionSet object</p></li>
<li><p>SummzrizedExperiment object (or extending classes)</p></li>
</ul></td>
    </tr>
    <tr>
      <th>signatures</th>
      <td><p>list of file paths to signature files (.gmt or .txt) or a
list of Signature objects</p></td>
    </tr>
    <tr>
      <th>housekeeping</th>
      <td><p>vector of gene names</p></td>
    </tr>
    <tr>
      <th>meta</th>
      <td><p>data file with cell meta data (.txt), or a
data.frame with meta information. Note that rows should match samples in the
data, and columns should either be factors or numerics.</p></td>
    </tr>
    <tr>
      <th>nomodel</th>
      <td><p>if TRUE, no fnr curve calculated and all weights equal to 1.
Else FNR and weights calculated. [Default:TRUE]</p></td>
    </tr>
    <tr>
      <th>projection_genes</th>
      <td><p>name of method ('threshold' or 'fano') or list of
genes to use when computing projections.</p></td>
    </tr>
    <tr>
      <th>min_signature_genes</th>
      <td><p>Minimum number of genes required to compute a
signature</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>Precomputed weights for each coordinate. Normally computed
from the FNR curve.</p></td>
    </tr>
    <tr>
      <th>threshold</th>
      <td><p>Threshold to apply for the threshold filter. Number of cells or
proportion of cells (if less than 1)</p></td>
    </tr>
    <tr>
      <th>perm_wPCA</th>
      <td><p>If TRUE, apply permutation WPCA to calculate significant
number of PCs. Else not. Default FALSE.</p></td>
    </tr>
    <tr>
      <th>projection_methods</th>
      <td><p>a character list of which projection methods to apply. Can be:</p><ul>
<li><p>tSNE10 (tSNE with perplexity 10)</p></li>
<li><p>tSNE30 (tSNE with perplexity 30)</p></li>
<li><p>ICA</p></li>
<li><p>ISOMap</p></li>
<li><p>RBFPCA</p></li>
</ul><p>By default will perform tSNE and PCA on the data.</p></td>
    </tr>
    <tr>
      <th>sig_norm_method</th>
      <td><p>Method to apply to normalize the expression matrix
before calculating signature scores. Valid options are:
"znorm_columns" (default), "none", "znorm_rows", "znorm_rows_then_columns",
or "rank_norm_columns"</p></td>
    </tr>
    <tr>
      <th>sig_score_method</th>
      <td><p>Method to apply when calculating signature scores.
Either "naive" (default) or "weighted_avg"</p></td>
    </tr>
    <tr>
      <th>pool</th>
      <td><p>indicates whether or not to create supercells. Acceptable values
are TRUE, FALSE, or 'auto', the last of which is the default and enables
pooling if there are more than 15000 cells.</p></td>
    </tr>
    <tr>
      <th>cellsPerPartition</th>
      <td><p>the minimum number of cells to put into a cluster</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>a name for the sample - shown on the output report</p></td>
    </tr>
    <tr>
      <th>cluster_variable</th>
      <td><p>variable to use to denote clusters</p></td>
    </tr>
    <tr>
      <th>latentSpace</th>
      <td><p>latent space for expression data. Numeric matrix or dataframe
with dimensions CELLS x COMPONENTS</p></td>
    </tr>
    <tr>
      <th>latentTrajectory</th>
      <td><p>trajectory to model cell progression.  Wrapped result
of a trajectory inference by the dynverse/dynwrap library</p></td>
    </tr>
    <tr>
      <th>metaData</th>
      <td><p>a dataframe storing all metadata (can be either factor or numerical),
where the rows are cells and columns are individual meta data items</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A VISION object</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='no'>expMat</span> <span class='kw'>&lt;-</span> <span class='fu'>matrix</span>(<span class='fu'>rnorm</span>(<span class='fl'>200000</span>), <span class='kw'>nrow</span><span class='kw'>=</span><span class='fl'>500</span>)
<span class='fu'>rownames</span>(<span class='no'>expMat</span>) <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='st'>"gene"</span>,<span class='fl'>1</span>:<span class='fl'>500</span>)

<span class='co'># choose housekeeping genes</span>
<span class='no'>hkg</span> <span class='kw'>&lt;-</span> <span class='no'>housekeeping</span>$<span class='no'>default</span>

<span class='co'>#create 20 signatures of 25 genes each</span>
<span class='no'>sigs</span> <span class='kw'>&lt;-</span> <span class='fu'>lapply</span>(<span class='fl'>1</span>:<span class='fl'>20</span>, <span class='kw'>function</span>(<span class='no'>i</span>) {
<span class='no'>sigData</span> <span class='kw'>&lt;-</span> <span class='fu'>sign</span>(<span class='fu'>rnorm</span>(<span class='fl'>25</span>))
<span class='fu'>names</span>(<span class='no'>sigData</span>) <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='st'>"gene"</span>,<span class='fu'>sample</span>(<span class='fl'>1</span>:<span class='fl'>100</span>,<span class='fl'>25</span>))
<span class='fu'>return</span>(<span class='fu'><a href='createGeneSignature.html'>createGeneSignature</a></span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='fu'>paste0</span>(<span class='st'>"sig"</span>,<span class='no'>i</span>),
                                 <span class='kw'>sigData</span> <span class='kw'>=</span> <span class='no'>sigData</span>))
})

<span class='no'>fp</span> <span class='kw'>&lt;-</span> <span class='fu'>Vision</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>expMat</span>,
                     <span class='kw'>signatures</span> <span class='kw'>=</span> <span class='no'>sigs</span>,
                     <span class='kw'>housekeeping</span> <span class='kw'>=</span> <span class='no'>hkg</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Matt Jones, Tal Ashuach, David Detomaso.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

